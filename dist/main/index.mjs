var K=(e,t)=>{Object.defineProperties(e.prototype,{then:{enumerable:!1,value:()=>{throw new Error(t)}}});};var N=class e{#e;constructor(t){this.#e=t;}_expression(t,...r){if(r[1]==="begins_with"){let[n,o,i]=r;return new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat({kind:"ExpressionJoinTypeNode",expr:{kind:"BeginsWithFunctionExpression",key:n,substr:i},joinType:t})}})}else if(r[1]==="contains"){let[n,o,i]=r;return new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat({kind:"ExpressionJoinTypeNode",expr:{kind:"ContainsFunctionExpression",key:n,value:i},joinType:t})}})}else if(r[1]==="attribute_exists"||r[1]==="attribute_not_exists"){let[n,o]=r,i;return o==="attribute_exists"?i={kind:"AttributeExistsFunctionExpression",key:n}:i={kind:"AttributeNotExistsFunctionExpression",key:n},new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat({kind:"ExpressionJoinTypeNode",expr:i,joinType:t})}})}else if(r[1]==="BETWEEN"){let[n,o,i,s]=r;return new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat({kind:"ExpressionJoinTypeNode",expr:{kind:"BetweenConditionExpression",key:n,left:i,right:s},joinType:t})}})}else if(typeof r[0]!="function"&&r[0]!=="NOT"&&typeof r[1]!="function"&&r[1]!==void 0&&r[2]!==void 0){let[n,o,i]=r;return new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat({kind:"ExpressionJoinTypeNode",joinType:t,expr:{kind:"ExpressionComparatorExpressions",key:n,operation:o,value:i}})}})}else if(typeof r[0]=="function"||typeof r[1]=="function"){let n;if(typeof r[0]=="function"?n=r[0]:typeof r[1]=="function"&&(n=r[1]),!n)throw new Error("Could not find builder");let o=new e({...this.#e,node:{expressions:[],kind:"ExpressionNode"}}),s=n(o)._getNode(),a={kind:"ExpressionJoinTypeNode",expr:s,joinType:t};return r[0]==="NOT"&&(a={...a,expr:{kind:"ExpressionNotExpression",expr:s}}),new e({...this.#e,node:{...this.#e.node,expressions:this.#e.node.expressions.concat(a)}})}throw new Error("Invalid arguments given to expression builder")}expression(...t){return this._expression("AND",...t)}orExpression(...t){return this._expression("OR",...t)}_getNode(){return this.#e.node}};var X=class e{#e;constructor(t){this.#e=t;}conditionExpression(...t){let n=new N({node:{...this.#e.node.conditionExpression}}).expression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,conditionExpression:n}})}orConditionExpression(...t){let n=new N({node:{...this.#e.node.conditionExpression}}).orExpression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,conditionExpression:n}})}returnValues(t){return new e({...this.#e,node:{...this.#e.node,returnValues:{kind:"ReturnValuesNode",option:t}}})}returnValuesOnConditionCheckFailure(t){return new e({...this.#e,node:{...this.#e.node,returnValuesOnConditionCheckFailure:{kind:"ReturnValuesNode",option:t}}})}keys(t){return new e({...this.#e,node:{...this.#e.node,keys:{kind:"KeysNode",keys:t}}})}compile=()=>this.#e.queryCompiler.compile(this.#e.node);execute=async()=>{let t=this.compile();return (await this.#e.ddbClient.send(t)).Attributes}};K(X,"Don't await DeleteItemQueryBuilder instances directly. To execute the query you need to call the `execute` method");var Z=class e{#e;constructor(t){this.#e=t;}keys(t){return new e({...this.#e,node:{...this.#e.node,keys:{kind:"KeysNode",keys:t}}})}consistentRead(t){return new e({...this.#e,node:{...this.#e.node,consistentRead:{kind:"ConsistentReadNode",enabled:t}}})}attributes(t){return new e({...this.#e,node:{...this.#e.node,attributes:{kind:"AttributesNode",attributes:t}}})}compile(){return this.#e.queryCompiler.compile(this.#e.node)}execute=async()=>{let t=this.compile();return (await this.#e.ddbClient.send(t)).Item??void 0}};K(Z,"Don't await GetQueryBuilder instances directly. To execute the query you need to call the `execute` method");var ee=class e{#e;constructor(t){this.#e=t;}conditionExpression(...t){let n=new N({node:{...this.#e.node.conditionExpression}}).expression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,conditionExpression:n}})}orConditionExpression(...t){let n=new N({node:{...this.#e.node.conditionExpression}}).orExpression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,conditionExpression:n}})}item(t){return new e({...this.#e,node:{...this.#e.node,item:{kind:"ItemNode",item:t}}})}returnValues(t){return new e({...this.#e,node:{...this.#e.node,returnValues:{kind:"ReturnValuesNode",option:t}}})}compile=()=>this.#e.queryCompiler.compile(this.#e.node);execute=async()=>{let t=this.compile();return (await this.#e.ddbClient.send(t)).Attributes}};K(ee,"Don't await PutQueryBuilder instances directly. To execute the query you need to call the `execute` method");var te=class e{#e;constructor(t){this.#e=t;}keyCondition(...t){if(t[1]==="begins_with"){let[r,n,o]=t;return new e({...this.#e,node:{...this.#e.node,keyConditions:this.#e.node.keyConditions.concat({kind:"KeyConditionNode",operation:{kind:"BeginsWithFunctionExpression",key:r,substr:o}})}})}else if(t[1]==="BETWEEN"){let[r,n,o,i]=t;return new e({...this.#e,node:{...this.#e.node,keyConditions:this.#e.node.keyConditions.concat({kind:"KeyConditionNode",operation:{kind:"BetweenConditionExpression",key:r,left:o,right:i}})}})}else {let[r,n,o]=t;return new e({...this.#e,node:{...this.#e.node,keyConditions:this.#e.node.keyConditions.concat({kind:"KeyConditionNode",operation:{kind:"KeyConditionComparatorExpression",operation:n,key:r,value:o}})}})}}filterExpression(...t){let n=new N({node:{...this.#e.node.filterExpression}}).expression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,filterExpression:n}})}orFilterExpression(...t){let n=new N({node:{...this.#e.node.filterExpression}}).orExpression(...t)._getNode();return new e({...this.#e,node:{...this.#e.node,filterExpression:n}})}limit(t){return new e({...this.#e,node:{...this.#e.node,limit:{kind:"LimitNode",limit:t}}})}scanIndexForward(t){return new e({...this.#e,node:{...this.#e.node,scanIndexForward:{kind:"ScanIndexForwardNode",enabled:t}}})}consistentRead(t){return new e({...this.#e,node:{...this.#e.node,consistentRead:{kind:"ConsistentReadNode",enabled:t}}})}attributes(t){return new e({...this.#e,node:{...this.#e.node,attributes:{kind:"AttributesNode",attributes:t}}})}compile=()=>this.#e.queryCompiler.compile(this.#e.node);execute=async()=>{let t=this.compile();return (await this.#e.ddbClient.send(t)).Items??void 0}};K(te,"Don't await QueryQueryBuilder instances directly. To execute the query you need to call the `execute` method");var pe=class{#e;constructor(t){this.#e=t;}getItem(t){return new Z({node:{kind:"GetNode",table:{kind:"TableNode",table:t}},ddbClient:this.#e.ddbClient,queryCompiler:this.#e.queryCompiler})}query(t){return new te({node:{kind:"QueryNode",table:{kind:"TableNode",table:t},keyConditions:[],filterExpression:{kind:"ExpressionNode",expressions:[]}},ddbClient:this.#e.ddbClient,queryCompiler:this.#e.queryCompiler})}putItem(t){return new ee({node:{kind:"PutNode",table:{kind:"TableNode",table:t},conditionExpression:{kind:"ExpressionNode",expressions:[]}},ddbClient:this.#e.ddbClient,queryCompiler:this.#e.queryCompiler})}deleteItem(t){return new X({node:{kind:"DeleteNode",table:{kind:"TableNode",table:t},conditionExpression:{kind:"ExpressionNode",expressions:[]}},ddbClient:this.#e.ddbClient,queryCompiler:this.#e.queryCompiler})}};var St;(function(e){e.HEADER="header",e.QUERY="query";})(St||(St={}));var At;(function(e){e.HEADER="header",e.QUERY="query";})(At||(At={}));var wt;(function(e){e.HTTP="http",e.HTTPS="https";})(wt||(wt={}));var me;(function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256";})(me||(me={}));var lt;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER";})(lt||(lt={}));var re="__smithy_context";var Nt;(function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services";})(Nt||(Nt={}));var Ot;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0";})(Ot||(Ot={}));var fe=class e{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/",this.username=t.username,this.password=t.password,this.fragment=t.fragment;}static isInstance(t){if(!t)return !1;let r=t;return "method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new e({...this,headers:{...this.headers}});return t.query&&(t.query=Nr(t.query)),t}};function Nr(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return {...t,[r]:Array.isArray(n)?[...n]:n}},{})}var _t=e=>e[re]||(e[re]={});var Pt=async e=>{let t=e?.Bucket||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),Lr(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else (!Rr(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},Or=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,_r=/(\d+\.){3}\d+/,Pr=/\.\./;var Rr=e=>Or.test(e)&&!_r.test(e)&&!Pr.test(e),Lr=e=>{let[t,r,n,o,i,s]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,d=[t,r,n,i,s].filter(Boolean).length===5;if(a&&!d)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!i&&!!s};var Rt=(e,t,r)=>{let n=async()=>{let o=r[e]??r[t];return typeof o=="function"?o():o};return e==="credentialScope"||t==="CredentialScope"?async()=>{let o=typeof r.credentials=="function"?await r.credentials():r.credentials;return o?.credentialScope??o?.CredentialScope}:e==="endpoint"||t==="endpoint"?async()=>{let o=await n();if(o&&typeof o=="object"){if("url"in o)return o.url.href;if("hostname"in o){let{protocol:i,hostname:s,port:a,path:d}=o;return `${i}//${s}${a?":"+a:""}${d}`}}return o}:n};var Lt=async e=>{};function Kt(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,o=null]=r.split("=");n=decodeURIComponent(n),o&&(o=decodeURIComponent(o)),n in t?Array.isArray(t[n])?t[n].push(o):t[n]=[t[n],o]:t[n]=o;}return t}var ye=e=>{if(typeof e=="string")return ye(new URL(e));let{hostname:t,pathname:r,port:n,protocol:o,search:i}=e,s;return i&&(s=Kt(i)),{hostname:t,port:n?parseInt(n):void 0,protocol:o,path:r,query:s}};var ut=e=>typeof e=="object"?"url"in e?ye(e.url):e:ye(e);var kt=async(e,t,r,n)=>{if(!r.endpoint){let s=await Lt(r.serviceId||"");s&&(r.endpoint=()=>Promise.resolve(ut(s)));}let o=await Kr(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(o,n)},Kr=async(e,t,r)=>{let n={},o=t?.getEndpointParameterInstructions?.()||{};for(let[i,s]of Object.entries(o))switch(s.type){case"staticContextParams":n[i]=s.value;break;case"contextParams":n[i]=e[s.name];break;case"clientContextParams":case"builtInParams":n[i]=await Rt(s.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(s))}return Object.keys(o).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Pt(n),n};var $t=({config:e,instructions:t})=>(r,n)=>async o=>{let i=await kt(o.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=i,n.authSchemes=i.properties?.authSchemes;let s=n.authSchemes?.[0];if(s){n.signing_region=s.signingRegion,n.signing_service=s.signingName;let d=_t(n)?.selectedHttpAuthScheme?.httpAuthOption;d&&(d.signingProperties=Object.assign(d.signingProperties||{},{signing_region:s.signingRegion,signingRegion:s.signingRegion,signing_service:s.signingName,signingName:s.signingName,signingRegionSet:s.signingRegionSet},s.properties));}return r({...o})};var Mt=(e,t)=>(r,n)=>async o=>{let{response:i}=await r(o);try{let s=await t(i,e);return {response:i,output:s}}catch(s){if(Object.defineProperty(s,"$response",{value:i}),!("$metadata"in s)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";s.message+=`
  `+a,typeof s.$responseBodyText<"u"&&s.$response&&(s.$response.body=s.$responseBodyText);}throw s}};var Ut=(e,t)=>(r,n)=>async o=>{let i=n.endpointV2?.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!i)throw new Error("No valid endpoint provider available.");let s=await t(o.input,{...e,endpoint:i});return r({...o,request:s})};var kr={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},pt={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function k(e,t,r){return {applyToStack:n=>{n.add(Mt(e,r),kr),n.add(Ut(e,t),pt);}}}var $r={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:pt.name},$=(e,t)=>({applyToStack:r=>{r.addRelativeTo($t({config:e,instructions:t}),$r);}});var G=(e,t)=>{let r=[];if(e&&r.push(e),t)for(let n of t)r.push(n);return r},M=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,ne=()=>{let e=[],t=[],r=!1,n=new Set,o=c=>c.sort((u,m)=>Ft[m.step]-Ft[u.step]||vt[m.priority||"normal"]-vt[u.priority||"normal"]),i=c=>{let u=!1,m=T=>{let C=G(T.name,T.aliases);if(C.includes(c)){u=!0;for(let f of C)n.delete(f);return !1}return !0};return e=e.filter(m),t=t.filter(m),u},s=c=>{let u=!1,m=T=>{if(T.middleware===c){u=!0;for(let C of G(T.name,T.aliases))n.delete(C);return !1}return !0};return e=e.filter(m),t=t.filter(m),u},a=c=>(e.forEach(u=>{c.add(u.middleware,{...u});}),t.forEach(u=>{c.addRelativeTo(u.middleware,{...u});}),c.identifyOnResolve?.(S.identifyOnResolve()),c),d=c=>{let u=[];return c.before.forEach(m=>{m.before.length===0&&m.after.length===0?u.push(m):u.push(...d(m));}),u.push(c),c.after.reverse().forEach(m=>{m.before.length===0&&m.after.length===0?u.push(m):u.push(...d(m));}),u},l=(c=!1)=>{let u=[],m=[],T={};return e.forEach(f=>{let h={...f,before:[],after:[]};for(let B of G(h.name,h.aliases))T[B]=h;u.push(h);}),t.forEach(f=>{let h={...f,before:[],after:[]};for(let B of G(h.name,h.aliases))T[B]=h;m.push(h);}),m.forEach(f=>{if(f.toMiddleware){let h=T[f.toMiddleware];if(h===void 0){if(c)return;throw new Error(`${f.toMiddleware} is not found when adding ${M(f.name,f.aliases)} middleware ${f.relation} ${f.toMiddleware}`)}f.relation==="after"&&h.after.push(f),f.relation==="before"&&h.before.push(f);}}),o(u).map(d).reduce((f,h)=>(f.push(...h),f),[])},S={add:(c,u={})=>{let{name:m,override:T,aliases:C}=u,f={step:"initialize",priority:"normal",middleware:c,...u},h=G(m,C);if(h.length>0){if(h.some(B=>n.has(B))){if(!T)throw new Error(`Duplicate middleware name '${M(m,C)}'`);for(let B of h){let _=e.findIndex(Y=>Y.name===B||Y.aliases?.some(dt=>dt===B));if(_===-1)continue;let A=e[_];if(A.step!==f.step||f.priority!==A.priority)throw new Error(`"${M(A.name,A.aliases)}" middleware with ${A.priority} priority in ${A.step} step cannot be overridden by "${M(m,C)}" middleware with ${f.priority} priority in ${f.step} step.`);e.splice(_,1);}}for(let B of h)n.add(B);}e.push(f);},addRelativeTo:(c,u)=>{let{name:m,override:T,aliases:C}=u,f={middleware:c,...u},h=G(m,C);if(h.length>0){if(h.some(B=>n.has(B))){if(!T)throw new Error(`Duplicate middleware name '${M(m,C)}'`);for(let B of h){let _=t.findIndex(Y=>Y.name===B||Y.aliases?.some(dt=>dt===B));if(_===-1)continue;let A=t[_];if(A.toMiddleware!==f.toMiddleware||A.relation!==f.relation)throw new Error(`"${M(A.name,A.aliases)}" middleware ${A.relation} "${A.toMiddleware}" middleware cannot be overridden by "${M(m,C)}" middleware ${f.relation} "${f.toMiddleware}" middleware.`);t.splice(_,1);}}for(let B of h)n.add(B);}t.push(f);},clone:()=>a(ne()),use:c=>{c.applyToStack(S);},remove:c=>typeof c=="string"?i(c):s(c),removeByTag:c=>{let u=!1,m=T=>{let{tags:C,name:f,aliases:h}=T;if(C&&C.includes(c)){let B=G(f,h);for(let _ of B)n.delete(_);return u=!0,!1}return !0};return e=e.filter(m),t=t.filter(m),u},concat:c=>{let u=a(ne());return u.use(c),u.identifyOnResolve(r||u.identifyOnResolve()||(c.identifyOnResolve?.()??!1)),u},applyToStack:a,identify:()=>l(!0).map(c=>{let u=c.step??c.relation+" "+c.toMiddleware;return M(c.name,c.aliases)+" - "+u}),identifyOnResolve(c){return typeof c=="boolean"&&(r=c),r},resolve:(c,u)=>{for(let m of l().map(T=>T.middleware).reverse())c=m(c,u);return r&&console.log(S.identify()),c}};return S},Ft={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},vt={high:3,normal:2,low:1};var P={},V=new Array(64);for(let e=0,t=65,r=90;e+t<=r;e++){let n=String.fromCharCode(e+t);P[n]=e,V[e]=n;}for(let e=0,t=97,r=122;e+t<=r;e++){let n=String.fromCharCode(e+t),o=e+26;P[n]=o,V[o]=n;}for(let e=0;e<10;e++){P[e.toString(10)]=e+52;let t=e.toString(10),r=e+52;P[t]=r,V[r]=t;}P["+"]=62;V[62]="+";P["/"]=63;V[63]="/";var U=6,j=8,Gt=63;var mt=e=>{let t=e.length/4*3;e.slice(-2)==="=="?t-=2:e.slice(-1)==="="&&t--;let r=new ArrayBuffer(t),n=new DataView(r);for(let o=0;o<e.length;o+=4){let i=0,s=0;for(let l=o,S=o+3;l<=S;l++)if(e[l]!=="="){if(!(e[l]in P))throw new TypeError(`Invalid character ${e[l]} in base64 string.`);i|=P[e[l]]<<(S-l)*U,s+=U;}else i>>=U;let a=o/4*3;i>>=s%j;let d=Math.floor(s/j);for(let l=0;l<d;l++){let S=(d-l-1)*j;n.setUint8(a+l,(i&255<<S)>>S);}}return new Uint8Array(r)};var oe=e=>new TextEncoder().encode(e);var ft=e=>{if(typeof e=="string")return e;if(typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)};function yt(e){let t;if(typeof e=="string"?t=oe(e):t=e,typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let r="";for(let n=0;n<t.length;n+=3){let o=0,i=0;for(let a=n,d=Math.min(n+3,t.length);a<d;a++)o|=t[a]<<(d-a-1)*j,i+=j;let s=Math.ceil(i/U);o<<=s*U-i;for(let a=1;a<=s;a++){let d=(s-a)*U;r+=V[(o&Gt<<d)>>d];}r+="==".slice(0,4-s);}return r}function Vt(e,t="utf-8"){return t==="base64"?yt(e):ft(e)}function jt(e,t){return t==="base64"?R.mutate(mt(e)):R.mutate(oe(e))}var R=class e extends Uint8Array{static fromString(t,r="utf-8"){switch(typeof t){case"string":return jt(t,r);default:throw new Error(`Unsupported conversion from ${typeof t} to Uint8ArrayBlobAdapter.`)}}static mutate(t){return Object.setPrototypeOf(t,e.prototype),t}transformToString(t="utf-8"){return Vt(this,t)}};({supported:typeof Request<"u"&&"keepalive"in new Request("https://[::1]")});for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`);}var xt=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return R.mutate(e);if(!e)return R.mutate(new Uint8Array);let r=t.streamCollector(e);return R.mutate(await r)};var D=class{constructor(){this.middlewareStack=ne();}static classBuilder(){return new bt}resolveMiddlewareWithContext(t,r,n,{middlewareFn:o,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,smithyContext:l,additionalContext:S,CommandCtor:c}){for(let f of o.bind(this)(c,t,r,n))this.middlewareStack.use(f);let u=t.concat(this.middlewareStack),{logger:m}=r,T={logger:m,clientName:i,commandName:s,inputFilterSensitiveLog:a,outputFilterSensitiveLog:d,[re]:{...l},...S},{requestHandler:C}=r;return u.resolve(f=>C.handle(f.request,n||{}),T)}},bt=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null;}init(t){this._init=t;}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,r,n={}){return this._smithyContext={service:t,operation:r,...n},this}c(t={}){return this._additionalContext=t,this}n(t,r){return this._clientName=t,this._commandName=r,this}f(t=n=>n,r=n=>n){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=r,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){let t=this,r;return r=class extends D{static getEndpointParameterInstructions(){return t._ep}constructor(n){super(),this.input=n,this.serialize=t._serializer,this.deserialize=t._deserializer,t._init(this);}resolveMiddleware(n,o,i){return this.resolveMiddlewareWithContext(n,o,i,{CommandCtor:r,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}};var se=e=>{if(e!=null){if(typeof e=="number"){if((e===0||e===1)&&be.warn(xe(`Expected boolean, got ${typeof e}: ${e}`)),e===0)return !1;if(e===1)return !0}if(typeof e=="string"){let t=e.toLowerCase();if((t==="false"||t==="true")&&be.warn(xe(`Expected boolean, got ${typeof e}: ${e}`)),t==="false")return !1;if(t==="true")return !0}if(typeof e=="boolean")return e;throw new TypeError(`Expected boolean, got ${typeof e}: ${e}`)}},Qt=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&be.warn(xe(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}};var zt=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var ht=e=>vr(e,32);var vr=(e,t)=>{let r=zt(e);if(r!==void 0&&Gr(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},Gr=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}};var Vr=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},O=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return be.warn(xe(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},Wt=e=>{if(e==null)return;let t=Vr(e),r=Object.entries(t).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return t};var F=e=>typeof e=="string"?jr(e):Qt(e);var jr=e=>{switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return -1/0;default:throw new Error(`Unable to parse float value: ${e}`)}};var xe=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),be={warn:console.warn};var he=class e extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,e.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata;}},b=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,o])=>{(e[n]==null||e[n]==="")&&(e[n]=o);});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var Qr=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let o=zr(e),i=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:t?.code||t?.Code||n||i||"UnknownError",$fault:"client",$metadata:o});throw b(s,t)},qt=e=>({output:t,parsedBody:r,errorCode:n})=>{Qr({output:t,parsedBody:r,exceptionCtor:e,errorCode:n});},zr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Et=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Et.prototype=Object.create(String.prototype,{constructor:{value:Et,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Et,String);var I=(e,t)=>{let r={};for(let n in t)Wr(r,e,t,n);return r};var Wr=(e,t,r,n)=>{if(t!==null){let s=r[n];typeof s=="function"&&(s=[,s]);let[a=qr,d=Jr,l=n]=s;(typeof a=="function"&&a(t[l])||typeof a!="function"&&a)&&(e[n]=d(t[l]));return}let[o,i]=r[n];if(typeof i=="function"){let s,a=o===void 0&&(s=i())!=null,d=typeof o=="function"&&!!o(void 0)||typeof o!="function"&&!!o;a?e[n]=s:d&&(e[n]=i());}else {let s=o===void 0&&i!=null,a=typeof o=="function"&&!!o(i)||typeof o!="function"&&!!o;(s||a)&&(e[n]=i);}},qr=e=>e!=null,Jr=e=>e;var p=e=>{if(e==null)return {};if(Array.isArray(e))return e.filter(t=>t!=null).map(p);if(typeof e=="object"){let t={};for(let r of Object.keys(e))e[r]!=null&&(t[r]=p(e[r]));return t}return e};var z=e=>{if(e!=null)return typeof e=="object"&&"__type"in e&&delete e.__type,Wt(e)};var Jt=(e,t)=>xt(e,t).then(r=>t.utf8Encoder(r));var W=(e,t)=>Jt(e,t).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return {}}),Ht=async(e,t)=>{let r=await W(e,t);return r.message=r.message??r.Message,r},Yt=(e,t)=>{let r=(i,s)=>Object.keys(i).find(a=>a.toLowerCase()===s.toLowerCase()),n=i=>{let s=i;return typeof s=="number"&&(s=s.toString()),s.indexOf(",")>=0&&(s=s.split(",")[0]),s.indexOf(":")>=0&&(s=s.split(":")[0]),s.indexOf("#")>=0&&(s=s.split("#")[1]),s},o=r(e.headers,"x-amzn-errortype");if(o!==void 0)return n(e.headers[o]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var v={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}};var y=class e extends he{constructor(t){super(t),Object.setPrototypeOf(this,e.prototype);}};var Ee=class e extends y{constructor(t){super({name:"BackupInUseException",$fault:"client",...t}),this.name="BackupInUseException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},De=class e extends y{constructor(t){super({name:"BackupNotFoundException",$fault:"client",...t}),this.name="BackupNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Te=class e extends y{constructor(t){super({name:"InternalServerError",$fault:"server",...t}),this.name="InternalServerError",this.$fault="server",Object.setPrototypeOf(this,e.prototype);}},Ce=class e extends y{constructor(t){super({name:"RequestLimitExceeded",$fault:"client",...t}),this.name="RequestLimitExceeded",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},ge=class e extends y{constructor(t){super({name:"InvalidEndpointException",$fault:"client",...t}),this.name="InvalidEndpointException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.Message=t.Message;}},Be=class e extends y{constructor(t){super({name:"ProvisionedThroughputExceededException",$fault:"client",...t}),this.name="ProvisionedThroughputExceededException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Ie=class e extends y{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Se=class e extends y{constructor(t){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...t}),this.name="ItemCollectionSizeLimitExceededException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Ae=class e extends y{constructor(t){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...t}),this.name="ContinuousBackupsUnavailableException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var we=class e extends y{constructor(t){super({name:"LimitExceededException",$fault:"client",...t}),this.name="LimitExceededException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Ne=class e extends y{constructor(t){super({name:"TableInUseException",$fault:"client",...t}),this.name="TableInUseException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Oe=class e extends y{constructor(t){super({name:"TableNotFoundException",$fault:"client",...t}),this.name="TableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var _e=class e extends y{constructor(t){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...t}),this.name="GlobalTableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Pe=class e extends y{constructor(t){super({name:"ResourceInUseException",$fault:"client",...t}),this.name="ResourceInUseException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Re=class e extends y{constructor(t){super({name:"TransactionConflictException",$fault:"client",...t}),this.name="TransactionConflictException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var Le=class e extends y{constructor(t){super({name:"ExportNotFoundException",$fault:"client",...t}),this.name="ExportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Ke=class e extends y{constructor(t){super({name:"GlobalTableNotFoundException",$fault:"client",...t}),this.name="GlobalTableNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var ke=class e extends y{constructor(t){super({name:"ImportNotFoundException",$fault:"client",...t}),this.name="ImportNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var $e=class e extends y{constructor(t){super({name:"DuplicateItemException",$fault:"client",...t}),this.name="DuplicateItemException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Me=class e extends y{constructor(t){super({name:"IdempotentParameterMismatchException",$fault:"client",...t}),this.name="IdempotentParameterMismatchException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.Message=t.Message;}},Ue=class e extends y{constructor(t){super({name:"TransactionInProgressException",$fault:"client",...t}),this.name="TransactionInProgressException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.Message=t.Message;}},Fe=class e extends y{constructor(t){super({name:"ExportConflictException",$fault:"client",...t}),this.name="ExportConflictException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},ve=class e extends y{constructor(t){super({name:"InvalidExportTimeException",$fault:"client",...t}),this.name="InvalidExportTimeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Ge=class e extends y{constructor(t){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...t}),this.name="PointInTimeRecoveryUnavailableException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Ve=class e extends y{constructor(t){super({name:"ImportConflictException",$fault:"client",...t}),this.name="ImportConflictException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}};var je=class e extends y{constructor(t){super({name:"TableAlreadyExistsException",$fault:"client",...t}),this.name="TableAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Qe=class e extends y{constructor(t){super({name:"InvalidRestoreTimeException",$fault:"client",...t}),this.name="InvalidRestoreTimeException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},ze=class e extends y{constructor(t){super({name:"ReplicaAlreadyExistsException",$fault:"client",...t}),this.name="ReplicaAlreadyExistsException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},We=class e extends y{constructor(t){super({name:"ReplicaNotFoundException",$fault:"client",...t}),this.name="ReplicaNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},qe=class e extends y{constructor(t){super({name:"IndexNotFoundException",$fault:"client",...t}),this.name="IndexNotFoundException",this.$fault="client",Object.setPrototypeOf(this,e.prototype);}},Je;(function(e){e.visit=(t,r)=>t.S!==void 0?r.S(t.S):t.N!==void 0?r.N(t.N):t.B!==void 0?r.B(t.B):t.SS!==void 0?r.SS(t.SS):t.NS!==void 0?r.NS(t.NS):t.BS!==void 0?r.BS(t.BS):t.M!==void 0?r.M(t.M):t.L!==void 0?r.L(t.L):t.NULL!==void 0?r.NULL(t.NULL):t.BOOL!==void 0?r.BOOL(t.BOOL):r._(t.$unknown[0],t.$unknown[1]);})(Je||(Je={}));var He=class e extends y{constructor(t){super({name:"ConditionalCheckFailedException",$fault:"client",...t}),this.name="ConditionalCheckFailedException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.Item=t.Item;}},Ye=class e extends y{constructor(t){super({name:"TransactionCanceledException",$fault:"client",...t}),this.name="TransactionCanceledException",this.$fault="client",Object.setPrototypeOf(this,e.prototype),this.Message=t.Message,this.CancellationReasons=t.CancellationReasons;}};var Zt=async(e,t)=>{let r=tt("DeleteItem"),n;return n=JSON.stringify(On(e,t)),et(t,r,"/",void 0,n)};var er=async(e,t)=>{let r=tt("GetItem"),n;return n=JSON.stringify(Rn(e,t)),et(t,r,"/",void 0,n)};var tr=async(e,t)=>{let r=tt("PutItem"),n;return n=JSON.stringify($n(e,t)),et(t,r,"/",void 0,n)},rr=async(e,t)=>{let r=tt("Query"),n;return n=JSON.stringify(Un(e,t)),et(t,r,"/",void 0,n)};var nr=async(e,t)=>{if(e.statusCode>=300)return Xe(e,t);let r=await W(e.body,t),n={};return n=jn(r,t),{$metadata:x(e),...n}};var or=async(e,t)=>{if(e.statusCode>=300)return Xe(e,t);let r=await W(e.body,t),n={};return n=Qn(r,t),{$metadata:x(e),...n}};var sr=async(e,t)=>{if(e.statusCode>=300)return Xe(e,t);let r=await W(e.body,t),n={};return n=Xn(r,t),{$metadata:x(e),...n}},ir=async(e,t)=>{if(e.statusCode>=300)return Xe(e,t);let r=await W(e.body,t),n={};return n=Zn(r,t),{$metadata:x(e),...n}};var Xe=async(e,t)=>{let r={...e,body:await Ht(e.body,t)},n=Yt(e,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await ln(r);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Dn(r);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await un(r);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await bn(r);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await Cn(r);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await fn(r);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await Hr(r);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await Zr(r);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await yn(r);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Bn(r);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await In(r);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await nn(r);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await Tn(r);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await Yr(r);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await Xr(r,t);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await An(r);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await rn(r);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await on(r);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await cn(r);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await en(r);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await sn(r);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Sn(r,t);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await wn(r);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await tn(r);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await pn(r);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await xn(r);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await an(r);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await gn(r);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await mn(r);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await hn(r);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await En(r);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await dn(r);default:let o=r.body;return to({output:e,parsedBody:o,errorCode:n})}},Hr=async(e,t)=>{let r=e.body,n=p(r),o=new Ee({$metadata:x(e),...n});return b(o,r)},Yr=async(e,t)=>{let r=e.body,n=p(r),o=new De({$metadata:x(e),...n});return b(o,r)},Xr=async(e,t)=>{let r=e.body,n=Vn(r,t),o=new He({$metadata:x(e),...n});return b(o,r)},Zr=async(e,t)=>{let r=e.body,n=p(r),o=new Ae({$metadata:x(e),...n});return b(o,r)},en=async(e,t)=>{let r=e.body,n=p(r),o=new $e({$metadata:x(e),...n});return b(o,r)},tn=async(e,t)=>{let r=e.body,n=p(r),o=new Fe({$metadata:x(e),...n});return b(o,r)},rn=async(e,t)=>{let r=e.body,n=p(r),o=new Le({$metadata:x(e),...n});return b(o,r)},nn=async(e,t)=>{let r=e.body,n=p(r),o=new _e({$metadata:x(e),...n});return b(o,r)},on=async(e,t)=>{let r=e.body,n=p(r),o=new Ke({$metadata:x(e),...n});return b(o,r)},sn=async(e,t)=>{let r=e.body,n=p(r),o=new Me({$metadata:x(e),...n});return b(o,r)},an=async(e,t)=>{let r=e.body,n=p(r),o=new Ve({$metadata:x(e),...n});return b(o,r)},cn=async(e,t)=>{let r=e.body,n=p(r),o=new ke({$metadata:x(e),...n});return b(o,r)},dn=async(e,t)=>{let r=e.body,n=p(r),o=new qe({$metadata:x(e),...n});return b(o,r)},ln=async(e,t)=>{let r=e.body,n=p(r),o=new Te({$metadata:x(e),...n});return b(o,r)},un=async(e,t)=>{let r=e.body,n=p(r),o=new ge({$metadata:x(e),...n});return b(o,r)},pn=async(e,t)=>{let r=e.body,n=p(r),o=new ve({$metadata:x(e),...n});return b(o,r)},mn=async(e,t)=>{let r=e.body,n=p(r),o=new Qe({$metadata:x(e),...n});return b(o,r)},fn=async(e,t)=>{let r=e.body,n=p(r),o=new Se({$metadata:x(e),...n});return b(o,r)},yn=async(e,t)=>{let r=e.body,n=p(r),o=new we({$metadata:x(e),...n});return b(o,r)},xn=async(e,t)=>{let r=e.body,n=p(r),o=new Ge({$metadata:x(e),...n});return b(o,r)},bn=async(e,t)=>{let r=e.body,n=p(r),o=new Be({$metadata:x(e),...n});return b(o,r)},hn=async(e,t)=>{let r=e.body,n=p(r),o=new ze({$metadata:x(e),...n});return b(o,r)},En=async(e,t)=>{let r=e.body,n=p(r),o=new We({$metadata:x(e),...n});return b(o,r)},Dn=async(e,t)=>{let r=e.body,n=p(r),o=new Ce({$metadata:x(e),...n});return b(o,r)},Tn=async(e,t)=>{let r=e.body,n=p(r),o=new Pe({$metadata:x(e),...n});return b(o,r)},Cn=async(e,t)=>{let r=e.body,n=p(r),o=new Ie({$metadata:x(e),...n});return b(o,r)},gn=async(e,t)=>{let r=e.body,n=p(r),o=new je({$metadata:x(e),...n});return b(o,r)},Bn=async(e,t)=>{let r=e.body,n=p(r),o=new Ne({$metadata:x(e),...n});return b(o,r)},In=async(e,t)=>{let r=e.body,n=p(r),o=new Oe({$metadata:x(e),...n});return b(o,r)},Sn=async(e,t)=>{let r=e.body,n=eo(r,t),o=new Ye({$metadata:x(e),...n});return b(o,r)},An=async(e,t)=>{let r=e.body,n=p(r),o=new Re({$metadata:x(e),...n});return b(o,r)},wn=async(e,t)=>{let r=e.body,n=p(r),o=new Ue({$metadata:x(e),...n});return b(o,r)};var Q=(e,t)=>Je.visit(e,{B:r=>({B:t.base64Encoder(r)}),BOOL:r=>({BOOL:r}),BS:r=>({BS:Nn(r,t)}),L:r=>({L:Kn(r,t)}),M:r=>({M:kn(r,t)}),N:r=>({N:r}),NS:r=>({NS:p(r)}),NULL:r=>({NULL:r}),S:r=>({S:r}),SS:r=>({SS:p(r)}),_:(r,n)=>({name:n})}),ar=(e,t)=>e.filter(r=>r!=null).map(r=>Q(r,t));var Nn=(e,t)=>e.filter(r=>r!=null).map(r=>t.base64Encoder(r)),cr=(e,t)=>I(e,{AttributeValueList:r=>ar(r,t),ComparisonOperator:[]});var On=(e,t)=>I(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>dr(r,t),ExpressionAttributeNames:p,ExpressionAttributeValues:r=>Dt(r,t),Key:r=>Tt(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]});var dr=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=_n(o,t)),r),{}),_n=(e,t)=>I(e,{AttributeValueList:r=>ar(r,t),ComparisonOperator:[],Exists:[],Value:r=>Q(r,t)});var Dt=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Q(o,t)),r),{}),Pn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=cr(o,t)),r),{});var Rn=(e,t)=>I(e,{AttributesToGet:p,ConsistentRead:[],ExpressionAttributeNames:p,Key:r=>Tt(r,t),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]});var Tt=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Q(o,t)),r),{}),Ln=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=cr(o,t)),r),{});var Kn=(e,t)=>e.filter(r=>r!=null).map(r=>Q(r,t));var kn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Q(o,t)),r),{});var $n=(e,t)=>I(e,{ConditionExpression:[],ConditionalOperator:[],Expected:r=>dr(r,t),ExpressionAttributeNames:p,ExpressionAttributeValues:r=>Dt(r,t),Item:r=>Mn(r,t),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),Mn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=Q(o,t)),r),{});var Un=(e,t)=>I(e,{AttributesToGet:p,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:r=>Tt(r,t),ExpressionAttributeNames:p,ExpressionAttributeValues:r=>Dt(r,t),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:r=>Ln(r,t),Limit:[],ProjectionExpression:[],QueryFilter:r=>Pn(r,t),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]});var q=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ie(z(o),t)),r),{}),ie=(e,t)=>e.B!=null?{B:t.base64Decoder(e.B)}:se(e.BOOL)!==void 0?{BOOL:se(e.BOOL)}:e.BS!=null?{BS:Fn(e.BS,t)}:e.L!=null?{L:Hn(e.L,t)}:e.M!=null?{M:Yn(e.M,t)}:O(e.N)!==void 0?{N:O(e.N)}:e.NS!=null?{NS:p(e.NS)}:se(e.NULL)!==void 0?{NULL:se(e.NULL)}:O(e.S)!==void 0?{S:O(e.S)}:e.SS!=null?{SS:p(e.SS)}:{$unknown:Object.entries(e)[0]};var Fn=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>t.base64Decoder(n)),vn=(e,t)=>I(e,{Code:O,Item:r=>q(r,t),Message:O}),Gn=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>vn(n,t)),lr=(e,t)=>I(e,{CapacityUnits:F,ReadCapacityUnits:F,WriteCapacityUnits:F}),Vn=(e,t)=>I(e,{Item:r=>q(r,t),message:O}),Ze=(e,t)=>I(e,{CapacityUnits:F,GlobalSecondaryIndexes:r=>Xt(r),LocalSecondaryIndexes:r=>Xt(r),ReadCapacityUnits:F,Table:r=>lr(r),TableName:O,WriteCapacityUnits:F});var jn=(e,t)=>I(e,{Attributes:r=>q(r,t),ConsumedCapacity:r=>Ze(r),ItemCollectionMetrics:r=>ur(r,t)});var Qn=(e,t)=>I(e,{ConsumedCapacity:r=>Ze(r),Item:r=>q(r,t)});var zn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ie(z(o),t)),r),{}),ur=(e,t)=>I(e,{ItemCollectionKey:r=>zn(r,t),SizeEstimateRangeGB:r=>Wn(r)});var Wn=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>F(n)),qn=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>q(n,t));var Jn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ie(z(o),t)),r),{});var Hn=(e,t)=>(e||[]).filter(n=>n!=null).map(n=>ie(z(n),t));var Yn=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=ie(z(o),t)),r),{});var Xn=(e,t)=>I(e,{Attributes:r=>q(r,t),ConsumedCapacity:r=>Ze(r),ItemCollectionMetrics:r=>ur(r,t)});var Zn=(e,t)=>I(e,{ConsumedCapacity:r=>Ze(r),Count:ht,Items:r=>qn(r,t),LastEvaluatedKey:r=>Jn(r,t),ScannedCount:ht});var Xt=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(o===null||(r[n]=lr(o)),r),{});var eo=(e,t)=>I(e,{CancellationReasons:r=>Gn(r,t),Message:O});var x=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var to=qt(y),et=async(e,t,r,n,o)=>{let{hostname:i,protocol:s="https",port:a,path:d}=await e.endpoint(),l={protocol:s,hostname:i,port:a,method:"POST",path:d.endsWith("/")?d.slice(0,-1)+r:d+r,headers:t};return n!==void 0&&(l.hostname=n),o!==void 0&&(l.body=o),new fe(l)};function tt(e){return {"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${e}`}}var rt=class extends D.classBuilder().ep({...v}).m(function(t,r,n,o){return [k(n,this.serialize,this.deserialize),$(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(Zt).de(nr).build(){};var nt=class extends D.classBuilder().ep({...v}).m(function(t,r,n,o){return [k(n,this.serialize,this.deserialize),$(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(er).de(or).build(){};var ot=class extends D.classBuilder().ep({...v}).m(function(t,r,n,o){return [k(n,this.serialize,this.deserialize),$(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(tr).de(sr).build(){};var st=class extends D.classBuilder().ep({...v}).m(function(t,r,n,o){return [k(n,this.serialize,this.deserialize),$(n,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(rr).de(ir).build(){};var L=class e{constructor(t){typeof t=="object"&&"N"in t?this.value=String(t.N):this.value=String(t);let r=typeof t.valueOf()=="number"?t.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(t){return new e(t)}toAttributeValue(){return {N:this.toString()}}toBigInt(){let t=this.toString();return BigInt(t)}toString(){return String(this.value)}valueOf(){return this.toString()}};var ae=(e,t)=>{if(e===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(e===null&&typeof e=="object")return it();if(Array.isArray(e))return ro(e,t);if(e?.constructor?.name==="Set")return no(e,t);if(e?.constructor?.name==="Map")return oo(e,t);if(e?.constructor?.name==="Object"||!e.constructor&&typeof e=="object")return pr(e,t);if(hr(e))return e.length===0&&t?.convertEmptyValues?it():fr(e);if(typeof e=="boolean"||e?.constructor?.name==="Boolean")return {BOOL:e.valueOf()};if(typeof e=="number"||e?.constructor?.name==="Number")return br(e);if(e instanceof L)return e.toAttributeValue();if(typeof e=="bigint")return xr(e);if(typeof e=="string"||e?.constructor?.name==="String")return e.length===0&&t?.convertEmptyValues?it():yr(e);if(t?.convertClassInstanceToMap&&typeof e=="object")return pr(e,t);throw new Error(`Unsupported type passed: ${e}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},ro=(e,t)=>({L:e.filter(r=>typeof r!="function"&&(!t?.removeUndefinedValues||t?.removeUndefinedValues&&r!==void 0)).map(r=>ae(r,t))}),no=(e,t)=>{let r=t?.removeUndefinedValues?new Set([...e].filter(o=>o!==void 0)):e;if(!t?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(t?.convertEmptyValues)return it();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof L)return {NS:Array.from(r).map(o=>o.toString())};if(typeof n=="number")return {NS:Array.from(r).map(br).map(o=>o.N)};if(typeof n=="bigint")return {NS:Array.from(r).map(xr).map(o=>o.N)};if(typeof n=="string")return {SS:Array.from(r).map(yr).map(o=>o.S)};if(hr(n))return {BS:Array.from(r).map(fr).map(o=>o.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},oo=(e,t)=>({M:(r=>{let n={};for(let[o,i]of r)typeof i!="function"&&(i!==void 0||!t?.removeUndefinedValues)&&(n[o]=ae(i,t));return n})(e)}),pr=(e,t)=>({M:(r=>{let n={};for(let o in r){let i=r[o];typeof i!="function"&&(i!==void 0||!t?.removeUndefinedValues)&&(n[o]=ae(i,t));}return n})(e)}),it=()=>({NULL:!0}),fr=e=>({B:e}),yr=e=>({S:e.toString()}),xr=e=>({N:e.toString()}),mr=e=>{throw new Error(`${e} ${typeof BigInt=="function"?"Use BigInt.":"Pass string value instead."} `)},br=e=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(t=>t.toString()).includes(e.toString()))throw new Error(`Special numeric value ${e.toString()} is not allowed`);return e>Number.MAX_SAFE_INTEGER?mr(`Number ${e.toString()} is greater than Number.MAX_SAFE_INTEGER.`):e<Number.MIN_SAFE_INTEGER&&mr(`Number ${e.toString()} is lesser than Number.MIN_SAFE_INTEGER.`),{N:e.toString()}},hr=e=>{let t=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return e?.constructor?t.includes(e.constructor.name):!1};var ce=(e,t)=>{for(let[r,n]of Object.entries(e))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return !!n;case"N":return Er(n,t);case"B":return Tr(n);case"S":return Dr(n);case"L":return so(n,t);case"M":return io(n,t);case"NS":return new Set(n.map(o=>Er(o,t)));case"BS":return new Set(n.map(Tr));case"SS":return new Set(n.map(Dr));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(e)}`)},Er=(e,t)=>{if(t?.wrapNumbers)return L.from(e);let r=Number(e),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(e)}catch{throw new Error(`${e} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${e} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},Dr=e=>e,Tr=e=>e,so=(e,t)=>e.map(r=>ce(r,t)),io=(e,t)=>Object.entries(e).reduce((r,[n,o])=>(r[n]=ce(o,t),r),{});function Cr(e,t){let r=ae(e,t),[n,o]=Object.entries(r)[0];switch(n){case"M":case"L":return t?.convertTopLevelContainer?r:o;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}var gr=(e,t)=>t?.convertWithoutMapWrapper?ce(e,t):ce({M:e},t);var J=null,E={},w=[],Br="*",at=(e,t,r)=>{if(e!==void 0){if(r==null)return t(e);{let n=Object.keys(r),o=n.length===1&&n[0]===Br,i=n.length>=1&&!o,s=n.length===0;if(i)return Ct(e,t,r);if(s)return ao(e,t,J);if(o)return Object.entries(e??{}).reduce((a,[d,l])=>(typeof l!="function"&&(a[d]=at(l,t,r[Br])),a),Array.isArray(e)?[]:{})}}},Ct=(e,t,r)=>{let n;if(Array.isArray(e))n=[...e].filter(o=>typeof o!="function");else {n={};for(let[o,i]of Object.entries(e))typeof i!="function"&&(n[o]=i);}for(let[o,i]of Object.entries(r)){if(typeof e[o]=="function")continue;let s=at(e[o],t,i);s!==void 0&&typeof s!="function"&&(n[o]=s);}return n},ao=(e,t,r)=>Array.isArray(e)?e.filter(n=>typeof n!="function").map(n=>at(n,t,r)):Object.entries(e).reduce((n,[o,i])=>{if(typeof i=="function")return n;let s=at(i,t,r);return s!==void 0&&typeof s!="function"&&(n[o]=s),n},{}),Ir=(e,t,r)=>Ct(e,o=>Cr(o,r),t),Sr=(e,t,r)=>Ct(e,o=>gr(o,r),t);var g=class e extends D{addMarshallingMiddleware(t){let{marshallOptions:r={},unmarshallOptions:n={}}=t.translateConfig||{};r.convertTopLevelContainer=r.convertTopLevelContainer??!0,n.convertWithoutMapWrapper=n.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((o,i)=>async s=>{s.input=Ir(this.input,this.inputKeyNodes,r),i.dynamoDbDocumentClientOptions=i.dynamoDbDocumentClientOptions||e.defaultLogFilterOverrides;let a=s.input;return i.dynamoDbDocumentClientOptions.overrideInputFilterSensitiveLog=()=>i.inputFilterSensitiveLog?.(a),o(s)},{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((o,i)=>async s=>{let a=await o(s),d=a.output;return i.dynamoDbDocumentClientOptions=i.dynamoDbDocumentClientOptions||e.defaultLogFilterOverrides,i.dynamoDbDocumentClientOptions.overrideOutputFilterSensitiveLog=()=>i.outputFilterSensitiveLog?.(d),a.output=Sr(a.output,this.outputKeyNodes,n),a},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0});}};g.defaultLogFilterOverrides={overrideInputFilterSensitiveLog(...e){},overrideOutputFilterSensitiveLog(...e){}};var de=class extends g{constructor(t){super(),this.input=t,this.inputKeyNodes={Key:E,Expected:{"*":{Value:J,AttributeValueList:w}},ExpressionAttributeValues:E},this.outputKeyNodes={Attributes:E,ItemCollectionMetrics:{ItemCollectionKey:E}},this.clientCommand=new rt(this.input),this.middlewareStack=this.clientCommand.middlewareStack;}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,r,n);return async()=>i(this.clientCommand)}};var le=class extends g{constructor(t){super(),this.input=t,this.inputKeyNodes={Key:E},this.outputKeyNodes={Item:E},this.clientCommand=new nt(this.input),this.middlewareStack=this.clientCommand.middlewareStack;}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,r,n);return async()=>i(this.clientCommand)}};var ue=class extends g{constructor(t){super(),this.input=t,this.inputKeyNodes={Item:E,Expected:{"*":{Value:J,AttributeValueList:w}},ExpressionAttributeValues:E},this.outputKeyNodes={Attributes:E,ItemCollectionMetrics:{ItemCollectionKey:E}},this.clientCommand=new ot(this.input),this.middlewareStack=this.clientCommand.middlewareStack;}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,r,n);return async()=>i(this.clientCommand)}};var H=class extends g{constructor(t){super(),this.input=t,this.inputKeyNodes={KeyConditions:{"*":{AttributeValueList:w}},QueryFilter:{"*":{AttributeValueList:w}},ExclusiveStartKey:E,ExpressionAttributeValues:E},this.outputKeyNodes={Items:{"*":E},LastEvaluatedKey:E},this.clientCommand=new st(this.input),this.middlewareStack=this.clientCommand.middlewareStack;}resolveMiddleware(t,r,n){this.addMarshallingMiddleware(r);let o=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(o,r,n);return async()=>i(this.clientCommand)}};var lo=/\[\d+\]/g,gt=e=>e.split(".").map(t=>`#${t}`).join("."),Bt=e=>e.replaceAll(lo,"").split(".").map(t=>[`#${t}`,t]);function It(e,t){for(let r in t)e.set(r,t[r]);}var ct=class{compile(t){switch(t.kind){case"GetNode":return this.compileGetNode(t);case"QueryNode":return this.compileQueryNode(t);case"PutNode":return this.compilePutNode(t);case"DeleteNode":return this.compileDeleteNode(t)}}compileGetNode(t){let{table:r,keys:n,consistentRead:o,attributes:i}=t,{ProjectionExpression:s,ExpressionAttributeNames:a}=this.compileAttributeNamesNode(i);return new le({TableName:r.table,Key:n?.keys,ConsistentRead:o?.enabled,ProjectionExpression:s,ExpressionAttributeNames:a})}compileQueryNode(t){let{table:r,filterExpression:n,keyConditions:o,limit:i,scanIndexForward:s,consistentRead:a,attributes:d}=t,l=new Map,S=new Map,c=new Map,u=this.compileKeyConditionExpression(o,S,l),m=this.compileExpression(n,c,l),{ProjectionExpression:T,ExpressionAttributeNames:C}=this.compileAttributeNamesNode(d);return new H({TableName:r.table,KeyConditionExpression:u,FilterExpression:m||void 0,Limit:i?.limit,ExpressionAttributeValues:{...Object.fromEntries(S),...Object.fromEntries(c)},ScanIndexForward:s?.enabled,ConsistentRead:a?.enabled,ProjectionExpression:T,ExpressionAttributeNames:l.size>0||C?{...Object.fromEntries(l),...C}:void 0})}compilePutNode(t){let{table:r,item:n,returnValues:o,conditionExpression:i}=t,s=new Map,a=new Map,d=this.compileExpression(i,a,s);return new ue({TableName:r.table,Item:n?.item,ReturnValues:o?.option,ConditionExpression:d||void 0,ExpressionAttributeValues:a.size>0?{...Object.fromEntries(a)}:void 0,ExpressionAttributeNames:s.size>0?{...Object.fromEntries(s)}:void 0})}compileDeleteNode(t){let{table:r,returnValues:n,returnValuesOnConditionCheckFailure:o,keys:i,conditionExpression:s}=t,a=new Map,d=new Map,l=this.compileExpression(s,d,a);return new de({TableName:r.table,Key:i?.keys,ReturnValues:n?.option,ReturnValuesOnConditionCheckFailure:o?.option,ConditionExpression:l||void 0,ExpressionAttributeValues:d.size>0?{...Object.fromEntries(d)}:void 0,ExpressionAttributeNames:a.size>0?{...Object.fromEntries(a)}:void 0})}compileAttributeNamesNode(t){let r=t?.attributes.map(o=>gt(o)).join(", "),n=t?.attributes.map(o=>Bt(o)).reduce((o,i)=>(i.forEach(([s,a])=>{o[s]=a;}),o),{});return {ProjectionExpression:r,ExpressionAttributeNames:n}}compileAttributeName(t){let r=gt(t),n=Bt(t).reduce((o,[i,s])=>(o[i]=s,o),{});return {expressionAttributeName:r,attributeNameMap:n}}compileExpression=(t,r,n)=>{let o="";return t.expressions.forEach((i,s)=>{s!==0&&(o+=` ${i.joinType} `),o+=this.compileFilterExpressionJoinNodes(i,r,n);}),o};compileFilterExpressionJoinNodes=({expr:t},r,n)=>{let o="",s=`:filterExpressionValue${r.size}`,a;if("key"in t){let{expressionAttributeName:d,attributeNameMap:l}=this.compileAttributeName(t.key);a=d,It(n,l);}switch(t.kind){case"ExpressionNode":{o+="(",o+=this.compileExpression(t,r,n),o+=")";break}case"ExpressionComparatorExpressions":{o+=`${a} ${t.operation} ${s}`,r.set(s,t.value);break}case"ExpressionNotExpression":{o+="NOT (",o+=this.compileExpression(t.expr,r,n),o+=")";break}case"BetweenConditionExpression":{o+=`${a} BETWEEN ${s}left AND ${s}right`,r.set(`${s}left`,t.left),r.set(`${s}right`,t.right);break}case"AttributeExistsFunctionExpression":{o+=`attribute_exists(${a})`;break}case"AttributeNotExistsFunctionExpression":{o+=`attribute_not_exists(${a})`;break}case"BeginsWithFunctionExpression":{o+=`begins_with(${a}, ${s})`,r.set(s,t.substr);break}case"ContainsFunctionExpression":{o+=`contains(${a}, ${s})`,r.set(s,t.value);break}}return o};compileKeyConditionExpression=(t,r,n)=>{let o="";return t.forEach((i,s)=>{s!==0&&(o+=" AND ");let{expressionAttributeName:a,attributeNameMap:d}=this.compileAttributeName(i.operation.key),l=`:keyConditionValue${s}`;i.operation.kind==="KeyConditionComparatorExpression"?(o+=`${a} ${i.operation.operation} ${l}`,r.set(l,i.operation.value)):i.operation.kind==="BetweenConditionExpression"?(o+=`${a} BETWEEN ${l}left AND ${l}right`,r.set(`${l}left`,i.operation.left),r.set(`${l}right`,i.operation.right)):i.operation.kind==="BeginsWithFunctionExpression"&&(o+=`begins_with(${a}, ${l})`,r.set(l,i.operation.substr)),It(n,d);}),o}};var wr=class extends pe{constructor(t){let r=new ct;super({...t,queryCompiler:r});}};

export { wr as Tsynamo };
